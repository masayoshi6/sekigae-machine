<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8">
  <title>åº§å¸­è¡¨ - å¸­æ›¿ãˆã‚¢ãƒ—ãƒª</title>
  <style>
    body {
        font-family: Arial, sans-serif;
        margin: 20px;
        background-color: #f5f5f5;
    }

    .container {
        display: flex;
        gap: 30px;
        max-width: 1200px;
        margin: 0 auto;
    }

    .seating-area {
        background-color: #4ECDC4;
        padding: 20px;
        border-radius: 10px;
        flex: 1;
    }

    .seating-title {
        color: white;
        text-align: center;
        margin-bottom: 20px;
        font-size: 18px;
        font-weight: bold;
    }

    .seating-grid {
        display: grid;
        grid-template-columns: repeat(5, 1fr);
        gap: 8px;
        max-width: 400px;
        margin: 0 auto;
    }

    .seat {
        width: 60px;
        height: 60px;
        background-color: white;
        border: 2px solid #e0e0e0;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 12px;
        font-weight: bold;
        border-radius: 5px;
        cursor: pointer;
        transition: all 0.3s ease;
    }

    .seat:hover {
        background-color: #f0f0f0;
        border-color: #333;
    }

    .seat.occupied {
        background-color: #ffb3ba;
        border-color: #ff6b7a;
    }

    .seat.male {
        background-color: #b3d9ff;
        border-color: #6bb6ff;
    }

    .seat.female {
        background-color: #ffb3e6;
        border-color: #ff6bcf;
    }

    .controls {
        background-color: white;
        padding: 20px;
        border-radius: 10px;
        flex: 1;
        height: fit-content;
    }

    .control-section {
        margin-bottom: 20px;
        padding: 15px;
        border: 1px solid #e0e0e0;
        border-radius: 5px;
    }

    .control-title {
        font-weight: bold;
        margin-bottom: 10px;
        color: #333;
    }

    .button {
        background-color: #e91e63;
        color: white;
        border: none;
        padding: 10px 20px;
        border-radius: 5px;
        cursor: pointer;
        font-size: 14px;
        margin-right: 10px;
        margin-bottom: 10px;
    }

    .button:hover {
        background-color: #c2185b;
    }

    .nav-links {
        margin-bottom: 20px;
    }

    .nav-links a {
        color: #333;
        text-decoration: none;
        margin-right: 15px;
    }

    .nav-links a:hover {
        text-decoration: underline;
    }

    .blackboard {
        background-color: #2d5a2d;
        color: white;
        text-align: center;
        padding: 10px;
        margin-bottom: 20px;
        border-radius: 5px;
        font-weight: bold;
    }
  </style>
</head>
<body>
<div class="nav-links">
  <a th:href="@{/students}">ğŸ“‹ ç”Ÿå¾’ä¸€è¦§</a>
  <a th:href="@{/students/new}">â• ç”Ÿå¾’è¿½åŠ </a>
  <a th:href="@{/}">ğŸ  ãƒ›ãƒ¼ãƒ </a>
</div>

<h1>ğŸª‘ å¸­æ›¿ãˆã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³</h1>

<div class="container">
  <!-- åº§å¸­è¡¨ã‚¨ãƒªã‚¢ -->
  <div class="seating-area">
    <div class="seating-title">ä»Šã®åº§å¸­ â„¹ï¸</div>

    <!-- é»’æ¿ -->
    <div class="blackboard">
      é»’æ¿
    </div>

    <!-- åº§å¸­ã‚°ãƒªãƒƒãƒ‰ -->
    <div class="seating-grid">
      <th:block th:each="row, rowStat : ${seatingChart}">
        <th:block th:each="seat, colStat : ${row}">
          <div class="seat"
               th:classappend="${seat != null} ? 'occupied' : ''"
               th:data-row="${rowStat.index + 1}"
               th:data-col="${colStat.index + 1}">
            <span th:text="${seat != null} ? ${seat} : ''"></span>
          </div>
        </th:block>
      </th:block>
    </div>
  </div>

  <!-- åˆ¶å¾¡ãƒ‘ãƒãƒ« -->
  <div class="controls">
    <div class="control-section">
      <div class="control-title">ğŸ¯ æ¡ä»¶</div>
      <p>å¸­æ›¿ãˆã®æ¡ä»¶ã‚’è¨­å®šã§ãã¾ã™</p>
      <!-- TODO: æ¡ä»¶è¨­å®šUI -->
    </div>

    <div class="control-section">
      <div class="control-title">ğŸ”„ åˆ¶ç´„ã§åˆ¶é™ã™ã‚‹</div>
      <label>
        <input type="checkbox" id="preventAdjacent">
        ç”·ã®éš£å¸­ã‹ã‚‰å¥³ã‚’æ’é™¤ã™ã‚‹
      </label><br>
      <label>
        <input type="checkbox" id="preventSameGender">
        ç”·å¥³ã®åº§å¸­ã‚’äº¤äº’ã«ã™ã‚‹
      </label>
    </div>

    <div class="control-section">
      <div class="control-title">ğŸ² äº¤æ›å¯¾è±¡ã‚’çµã£ã¦</div>
      <label>
        <input type="checkbox" id="specificStudents">
        äº¤æ›å¯¾è±¡ã‚’ç”Ÿå¾’ã‚’é¸ã¶
      </label>
    </div>

    <div class="control-section">
      <button class="button" onclick="shuffleSeats()">ğŸ”„ åº§æ›¿ãˆ</button>
      <button class="button" onclick="saveConfiguration()" style="background-color: #666;">
        âœï¸ åº§å¸­ã®è©³ç´°ã‚’ä¿å­˜
      </button>
    </div>
  </div>
</div>

<script>
  // å¸­æ›¿ãˆæ©Ÿèƒ½ï¼ˆä»®å®Ÿè£…ï¼‰
  function shuffleSeats() {
      if (confirm('åº§å¸­ã‚’ã‚·ãƒ£ãƒƒãƒ•ãƒ«ã—ã¾ã™ã‹ï¼Ÿ')) {
          // TODO: ã‚µãƒ¼ãƒãƒ¼ã‚µã‚¤ãƒ‰ã®å¸­æ›¿ãˆå‡¦ç†ã‚’å‘¼ã³å‡ºã—
          window.location.href = '/seating/shuffle';
      }
  }

  // è¨­å®šä¿å­˜æ©Ÿèƒ½ï¼ˆä»®å®Ÿè£…ï¼‰
  function saveConfiguration() {
      alert('è¨­å®šã‚’ä¿å­˜ã—ã¾ã—ãŸï¼ˆå®Ÿè£…äºˆå®šï¼‰');
  }

  // åº§å¸­ã‚¯ãƒªãƒƒã‚¯å‡¦ç†
  document.querySelectorAll('.seat').forEach(seat => {
      seat.addEventListener('click', function() {
          const row = this.dataset.row;
          const col = this.dataset.col;
          const studentName = this.textContent.trim();

          if (studentName) {
              alert(`åº§å¸­ ${row}è¡Œ${col}åˆ—: ${studentName}`);
          } else {
              alert(`åº§å¸­ ${row}è¡Œ${col}åˆ—: ç©ºå¸­`);
          }
      });
  });
</script>
</body>
</html>